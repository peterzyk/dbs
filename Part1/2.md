# 1.2 数据模型

> 数据模型是对现实世界数据特征的抽象·，用来描述数据、组织数据和对数据进行操作的。
>
> 现有数据库系统均是基础某种数据模型的。**数据模型是数据项系统的核心和基础。**

### 1.2.1两类数据类型

数据模型应当满足三方面要求

1. 可以比较真实模拟现实世界
2. 容易为人所理解
3. 便于在计算机实现

根据模型应用的不同目的，将模型分为两大类，分别属于不同的层次：概念模型   \|     逻辑模型和物理模型。

第一类是概念模型，也称信息模型，是按照用户的观点来对数据和信息建模，主要用于数据库的设计。

第二类中的逻辑模型主要包括层次模型、网状模型、关系模型、面向对象模型和对象关系数据模型、半结构化数据模型等。是按照计算机系统的观点对数据建模，主要用于数据管理系统的实现。

第二类中的物理模型是对数据最底层的抽象，它描述数据在系统内部的表示方式和存取方法，或在磁盘或磁带上的存储方式和存取方法，面向计算机系统，用户不必考虑物理级细节。

为了把现实世界中具体事物抽象、组织为某一数据库管理系统支持的数据模型，我们通常先将现实世界抽象为信息世界，然后将信息世界抽象为机器世界

---

### 1.2.2概念模型

概念模型其实是现实世界到机器世界的中间层次。

##### 信息世界中的基本概念

1. 实体 entity
   实体是存在并且可相互区别的事物称为实体。可以是具体的人、事、物，也可以是抽象的概念或联系。比如，一个学生，一个职工，一次学生的选课，教师与学院之间的关系都是实体。
2. 属性 attribute
   实体所具有的某一特性称为属性。一个实体可以由若干个属性刻画。
3. 码 key
   唯一标识实体的属性集称为码。例如学号是学生实体的码。
4. 实体型 entity type
   具有相同属性的实体必然具有共同的特征和性质。用实体名及其属性名集合来抽象和刻画同类实体，称为实体型。，例如学生（学号，姓名，性别，班级）就是一个实体型。
5. 实体集 entity set
   同一类型实体的集合称为实体集。全体学生就是一个实体集。
6. 联系 relationship

   ```
    实体之间的联系通常是指不同实体集之间的联系。

    实体之间的联系有一对一、一对多和多对多等多种类型。（page17）
   ```

##### 概念模型的一种表示方法：实体-联系方法

P.P.S.Chen 于1976年提出**实体-联系方法，**即E-R图，E-R方法也被称为E-R模型。

---

### 1.2.3数据模型的组成要素

数据模型是严格定义的一组概念的集合，这些概念精确的描述了系统的静态特性、动态特性和完整性约束条件。因此**数据模型通常由数据结构、数据操作和数据的完整性约束条件三部分构成。**

1. 数据结构
   数据结构描述数据库的组成对象以及对象之间的关系。也就是说数据结构描述的关系有两类（对象和关系，个人理解）：一类是与对象的类型、内容、性质有关，如网状模型中的数据项，记录，关系模型中的域、属性、关系等；一类是与数据之间联系有关的对象。**总之数据结构是所描述的对象类型的集合，是对系统静态特性的描述。**
2. 数据操作
   数据操作是指对数据库中各种对象（型）的实例（值）允许执行的操作的集合，包括操作及其有关的操作规则。
   数据库主要有查询和更新（插入、删除、修改）两大类操作。数据模型必须定义 这些操作的确切含义、操作符号、操作规则（如优先级）和实现操作的语言。**数据操作是对系统动态特性的描述。**
3. 数据的完整性约束条件
   数据的完整性约束是指一组完整的规则。保证数据的正确、有效和相容。

### 1.2.4 常用的数据模型

数据库领域主要的逻辑模型：

1. 层次模型（格式化模型）
2. 网状模型（格式化模型）
3. 关系模型
4. 面向对象数据模型
5. 对象关系数据模型
6. 半结构化数据模型（XML）

数据结构是刻画模型性质的最基本方面。

在格式化模型中实体用记录表示，实体的属性对应记录的数据项（或字段）。实体之间的关系转化为 记录之间的两两关系。

### 1.2.5 层次模型

##### 1.层次模型的数据结构

出现最早的数据模型。典型代表IMS。用树形结构表示各类实体以及实体之间的联系，现实中如行政机构，家族关系。只能处理一对多的实体联系。

```
双亲结点 根结点 兄弟结点 叶结点 子女结点
```

层次模型的特点：任何一个给定的记录值只能按其层次路径查看，没有一个子女记录值能够脱离双亲记录值而独立存在。

##### 2.层次模型的数据操纵和完整性约束

层次模型的数据操纵主要有查询、插入、删除和更新。进行插入、删除和更新要满足层次性模型的完整约束条件。

插入操作，相应相应的双亲结点值就不能插入它的子女结点值。

删除操作，删除双亲结点值，，所有子女节点值也会被删除。

##### 3.层次模型的优点

1. 层次模型的数据结构比较清晰简单
2. 查询效率高，联系用有向边表示，性能优于关系数据库、不低于网状数据库。
3. 提供了良好的完整性支持。

##### 4。层次模型的缺点

1. 现实中很多联系非层次性，即多对多不适合层次模型。
2. 如果一个结点具有多个双亲结点，就会很麻烦，造成冗余
3. 查询子女结点必须通过双亲结点
4. 由于结构严密，层次命令趋于程序化

### 1.2.6 网状模型

现实世界中事物之间联系更多是非层次性的，这时候用网状模型来表示。网状数据模型的典型代表是 **DBTG系统，亦称为CODASYL系统。**

##### 1.网状模型的数据结构

满足一下两个条件的基本层次联系集合称为网状模型

```
1. 允许一个以上结点无双亲
2. 一个结点可以有多余一个的双亲结点
```

层次模型其实是网状模型的一个特例

层次模型中子女结点与双亲结点的联系是唯一的，在网状模型中可以不唯一。

学生选课就是典型的网状模型

##### 2.网状模型的数据操作和完整性约束

1. 支持记录码的概念，码即唯一标识记录的数据项的集合，比如学生的学号。
2. 保证一个联系中双亲记录和子女记录之间是一对多的联系。
3. 可以支持双亲记录和子女记录的某些约束

##### 3.网状模型的优点

1. 可以更好的描述现实世界
2. 具有良好的性能，存取效率高。

##### 4+网状模型的缺点

1. 结构复杂
2. 要嵌入高级语言使用，不易掌握，不容易使用
3. 由于记录之间的关系是由存取路径实现的，所以用户必须熟悉路径，了解细节，加重了负担。

### 1.2.7 关系模型

我们现在常用的 xxxxxx



